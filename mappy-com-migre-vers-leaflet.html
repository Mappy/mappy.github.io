<!DOCTYPE html>
<html lang="en">
<head>

        <title>mappy.com migre vers Leaflet</title>
        <meta charset="utf-8" />
        <link href="https://techblog.mappy.com/feeds/rss.xml" type="application/atom+xml" rel="alternate" title="Mappy Labs Full Atom Feed" />
        <link href="https://techblog.mappy.com/feeds/web/rss.xml" type="application/atom+xml" rel="alternate" title="Mappy Labs Categories Atom Feed" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="./theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="./theme/style.css" />
        <link rel="stylesheet" type="text/css" href="./theme/pygment.css" />
        <link rel="icon" type="image/png" href="images/favicon-96x96.png" sizes="96x96">
        <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16">
        <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32">

</head>

<body id="index" class="home">


    <div class="container">

        <header id="banner" class="body">
            <h1><a href="/"><img src="/images/logo.png" /> Labs</a></h1>
            <div id="navigation" class="navbar row">
                <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
            </div>
        </header><!-- /#banner -->

        <div class="row">

<section id="content" class="body">

   <div class="row">
        <div class="ten columns">


            <header>
              <h2 class="entry-title">
                <a href="./mappy-com-migre-vers-leaflet.html" rel="bookmark"
                   title="Permalink to mappy.com migre vers Leaflet">mappy.com migre vers Leaflet</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2015-02-04T00:00:00+01:00">
                Wed 04 February 2015
              </abbr>
              <address class="vcard author">
                By <a class="url fn" href="./author/gregory-paul.html">Grégory Paul</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <h1>Nouvelle version du site, nouvelle cartographie</h1>
<p>En mai 2014, une nouvelle version du site Mappy a vu le jour :</p>
<p><img alt="Version 4" src="images/leaflet/hp-v4.png"></p>
<p>Précédente version (4)</p>
<p><img alt="Version 5" src="images/leaflet/hp-v5.png"></p>
<p>Nouvelle version (5)</p>
<p>Cette version a entraîné bon nombre de refactoring technique (comme un passage à Backbone par exemple) dont le plus impactant fût la décision de remplacer l’API cartographique JavaScript historique par <a href="http://leafletjs.com/">Leaflet</a>.</p>
<p>Leaflet est une API de cartographie JavaScript OpenSource parmi les plus connues et actives. Utilisée par de nombreux sites importants, aussi bien généralistes (Flickr, Foursquare, Pinterest) que spécialistes de la cartographie (Mapbox, OpenStreetMap), elle dispose de plus de 175 contributeurs.</p>
<h2>La compatibilité de la cartographie Mappy avec Leaflet</h2>
<p>Notre plateforme cartographique dispose de certaines spécificités par rapport aux standards actuels :</p>
<ul>
<li>une projection <a href="http://spatialreference.org/ref/esri/world-gall-stereographic/">Gall</a>,</li>
<li>des tuiles de 384 pixels de large (au lieu des 256 généralement utilisés par les autres acteurs cartographique),</li>
<li>13 niveaux de zoom, avec un facteur 3 entre chaque niveau (au lieu de 20 niveaux et d'un facteur x2).</li>
</ul>
<p>Elles ont été intégrées sous la forme d’un plugin Leaflet, inspiré du plugin <a href="https://www.mapbox.com/developers/api/">Mapbox</a>. Ce plugin étend l’API Leaflet et intègre également d’autres méthodes pour effectuer des recherches géographiques, des recherches géographiques inversées (Retrouver une adresse depuis des coordonnées) et enfin des recherches d’itinéraires via les services de Mappy.</p>
<p>Utilisée aujourd’hui par le site <a href="http://www.mappy.com">fixe</a>, le site <a href="http://m.mappy.com">mobile</a> et le widget, cette API est également distribuée aux partenaires. Si vous êtes intéressés, je vous invite à consulter <a href="http://corporate.mappy.com/faq/integrez-mappy/">la page dédiée à intégration de nos services dans vos produits</a>.</p>
<h2>Contributions</h2>
<p>Depuis cette migration à Leaflet, nous avons apporté quelques contributions sous la forme de “<a href="https://github.com/Leaflet/Leaflet/pull/3038">pull request</a>” ou de nouveau plugin (<a href="https://github.com/Mappy/Leaflet-active-area">leaflet-active-area</a>, un prochain article le présentera en détail).</p>
<h2>A l’avenir</h2>
<p>Au final, ce passage à Leaflet ne nous apporte que des avantages et nous avons hâte de proposer d’autres “pull requests” ou plugins.</p>
<p>Autre avantage à l'utilisation de Leaflet, la migration vers des projections plus standard - un de nos projet 2015 - aura un très faible coût, et aucune migration d'API ne sera nécessaire.</p>
            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->
        
<div class="four columns" id="sidebar">

<h4>Pages</h4>

 <ul>
  </ul>

<h4>Categories</h4>
<ul>
		<li><a href="./category/agile.html">Agile</a></li>
		<li><a href="./category/android.html">Android</a></li>
		<li><a href="./category/gis.html">GIS</a></li>
		<li><a href="./category/solr.html">Solr</a></li>
		<li><a href="./category/web.html">Web</a></li>
</ul>


<h4>Tags</h4>
	<ul>
	    <li class="tag-4"><a href="./tag/livereload.html">livereload</a></li>
	    <li class="tag-3"><a href="./tag/solr.html">solr</a></li>
	    <li class="tag-4"><a href="./tag/docker.html">docker</a></li>
	    <li class="tag-4"><a href="./tag/agilite.html">agilité</a></li>
	    <li class="tag-4"><a href="./tag/gis.html">GIS</a></li>
	    <li class="tag-3"><a href="./tag/leaflet.html">leaflet</a></li>
	    <li class="tag-4"><a href="./tag/retrospective.html">rétrospective</a></li>
	    <li class="tag-4"><a href="./tag/python.html">python</a></li>
	    <li class="tag-4"><a href="./tag/abtest.html">abtest</a></li>
	    <li class="tag-1"><a href="./tag/opensource.html">opensource</a></li>
	    <li class="tag-4"><a href="./tag/watch.html">watch</a></li>
	    <li class="tag-4"><a href="./tag/opengl.html">opengl</a></li>
	    <li class="tag-1"><a href="./tag/francais.html">français</a></li>
	    <li class="tag-4"><a href="./tag/meetup.html">meetup</a></li>
	    <li class="tag-4"><a href="./tag/android.html">android</a></li>
	    <li class="tag-4"><a href="./tag/openlr.html">openlr</a></li>
	    <li class="tag-4"><a href="./tag/webgl.html">webgl</a></li>
	    <li class="tag-3"><a href="./tag/mapnik.html">mapnik</a></li>
	    <li class="tag-4"><a href="./tag/panorama.html">panorama</a></li>
	    <li class="tag-3"><a href="./tag/postgis.html">postGIS</a></li>
	    <li class="tag-2"><a href="./tag/webperfs.html">webperfs</a></li>
	    <li class="tag-4"><a href="./tag/responsive.html">responsive</a></li>
	    <li class="tag-2"><a href="./tag/english.html">english</a></li>
	    <li class="tag-4"><a href="./tag/browserify.html">browserify</a></li>
	    <li class="tag-2"><a href="./tag/nodejs.html">node.js</a></li>
	    <li class="tag-1"><a href="./tag/javascript.html">javascript</a></li>
	    <li class="tag-3"><a href="./tag/backbone.html">backbone</a></li>
</ul>

<nav class="widget">
  <h4>Links</h4>
  <ul>
    <li><a href="https://www.mappy.com/">Mappy</a></li>
    <li><a href="https://play.google.com/store/apps/details?id=com.mappy.app">Appli Android</a></li>
    <li><a href="https://itunes.apple.com/fr/app/mappy-itineraire-et-recherche/id313834655?mt=8">Appli iOS</a></li>
    <li><a href="http://corporate.mappy.com">Blog Mappy</a></li>
    <li><a href="http://corporate.mappy.com/faq/integrez-mappy/">API Mappy</a></li>
  </ul>
</nav>


</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">


        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">

                <li><div class="btn primary"><a href="https://github.com/Mappy" target="_blank">Github</a></div></li>

                <li><div class="btn twitter"><a href="https://twitter.com/Mappy" target="_blank">Twitter</a></div></li>

                <li><div class="btn facebook"><a href="https://www.facebook.com/MappyOnline" target="_blank">Facebook</a></div></li>


              </ul>
            </div>
          </div>
        </footer>

    </div>

</body>
</html>